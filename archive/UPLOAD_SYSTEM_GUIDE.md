# üöÄ –°–ò–°–¢–ï–ú–ê –ó–ê–ì–†–£–ó–ö–ò –¢–û–í–ê–†–û–í –ù–ê HOOD.DE

## üìã **–ö–ê–ö –°–ò–°–¢–ï–ú–ê –í–´–ì–†–£–ñ–ê–ï–¢ –¢–û–í–ê–†–´:**

### **1. üåê –í–ï–ë-–ò–ù–¢–ï–†–§–ï–ô–° (–û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–±)**

#### **üì¶ –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤:**
- **URL**: http://127.0.0.1:8000/products/
- **–§—É–Ω–∫—Ü–∏–∏**:
  - ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
  - ‚úÖ –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, —Å—Ç–∞—Ç—É—Å—É
  - ‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
  - ‚úÖ –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
  - ‚úÖ –°—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏ (–∑–∞–≥—Ä—É–∂–µ–Ω/–æ–∂–∏–¥–∞–µ—Ç)

#### **üîç –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞:**
- **URL**: http://127.0.0.1:8000/products/{id}/
- **–§—É–Ω–∫—Ü–∏–∏**:
  - ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ
  - ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ Hood.de"
  - ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∑–æ–∫
  - ‚úÖ –°—Ç–∞—Ç—É—Å –∏ ID —Ç–æ–≤–∞—Ä–∞ –Ω–∞ Hood.de

### **2. üîß REST API (–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –¥–æ—Å—Ç—É–ø)**

#### **üì° API Endpoints:**
```bash
# –ó–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
POST /api/products/{id}/upload_to_hood/

# –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
POST /api/bulk-uploads/

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
GET /api/upload-logs/
```

#### **üìù –ü—Ä–∏–º–µ—Ä API –∑–∞–ø—Ä–æ—Å–∞:**
```python
import requests

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–∞
response = requests.post(
    'http://127.0.0.1:8000/api/products/123/upload_to_hood/',
    headers={'Authorization': 'Token your_token'}
)
```

### **3. üéõÔ∏è –ê–î–ú–ò–ù–ö–ê DJANGO (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)**

#### **üîß –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:**
- **URL**: http://127.0.0.1:8000/admin/
- **–õ–æ–≥–∏–Ω**: admin / admin123
- **–§—É–Ω–∫—Ü–∏–∏**:
  - ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
  - ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏
  - ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
  - ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–æ–∫

## üîÑ **–ü–†–û–¶–ï–°–° –ó–ê–ì–†–£–ó–ö–ò:**

### **üì§ –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö**
```python
def get_hood_data(self):
    """–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ Hood.de"""
    return {
        'itemMode': self.item_mode,           # –†–µ–∂–∏–º —Ç–æ–≤–∞—Ä–∞
        'categoryID': self.category_id,       # ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        'itemName': self.title,               # –ù–∞–∑–≤–∞–Ω–∏–µ
        'quantity': self.quantity,            # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
        'condition': self.condition,          # –°–æ—Å—Ç–æ—è–Ω–∏–µ
        'description': self.html_description,  # HTML –æ–ø–∏—Å–∞–Ω–∏–µ
        'price': float(self.price),           # –¶–µ–Ω–∞
        'ean': self.ean,                      # EAN –∫–æ–¥
        'manufacturer': self.manufacturer,    # –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å
        'weight': float(self.weight),         # –í–µ—Å
        'images': self.images,                # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    }
```

### **üåê –®–∞–≥ 2: –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ Hood.de API**
```python
def upload_item(self, item_data):
    """–ó–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞"""
    # 1. –°–æ–∑–¥–∞–Ω–∏–µ XML –∑–∞–ø—Ä–æ—Å–∞
    xml_request = self._build_xml_request('itemInsert', [item_data])
    
    # 2. –û—Ç–ø—Ä–∞–≤–∫–∞ POST –∑–∞–ø—Ä–æ—Å–∞
    response = requests.post(
        'https://www.hood.de/api.htm',
        data=xml_request,
        headers={'Content-Type': 'application/xml'},
        timeout=30
    )
    
    # 3. –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞
    result = self._parse_xml_safely(response.text)
    
    # 4. –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    return {
        'success': True/False,
        'item_id': 'Hood ID',
        'error': 'Error message'
    }
```

### **üìä –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞**
```python
if result.get('success'):
    # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–¥—É–∫—Ç
    product.is_uploaded_to_hood = True
    product.hood_item_id = result.get('item_id', '')
    product.uploaded_at = timezone.now()
    product.save()
    
    # –°–æ–∑–¥–∞–µ–º –ª–æ–≥
    UploadLog.objects.create(
        product=product,
        status='success',
        hood_item_id=result.get('item_id', ''),
        response_data=result
    )
```

## üéØ **–°–ü–û–°–û–ë–´ –ó–ê–ì–†–£–ó–ö–ò:**

### **1. üì± –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:**
- –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞
- –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ Hood.de"
- –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ
- –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### **2. üì¶ –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:**
- –í—ã–±—Ä–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ —Å–ø–∏—Å–∫–µ (—á–µ–∫–±–æ–∫—Å—ã)
- –£–∫–∞–∑–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞—Å—Å–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- –ù–∞–∂–∞—Ç—å "–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã"
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å

### **3. üîß –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:**
```python
# –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ API
from products.services import HoodAPIService

hood_service = HoodAPIService()
for product in Product.objects.filter(is_uploaded_to_hood=False):
    hood_data = product.get_hood_data()
    result = hood_service.upload_item(hood_data)
    
    if result.get('success'):
        product.is_uploaded_to_hood = True
        product.hood_item_id = result.get('item_id', '')
        product.save()
```

## üìà **–ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –õ–û–ì–ò–†–û–í–ê–ù–ò–ï:**

### **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–æ–∫:**
- **–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤**: 4,754
- **–ó–∞–≥—Ä—É–∂–µ–Ω–æ**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–û—à–∏–±–∫–∏**: –õ–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –¥–µ—Ç–∞–ª—è–º–∏
- **–î—É–±–ª–∏–∫–∞—Ç—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è

### **üìù –õ–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏:**
```python
class UploadLog(models.Model):
    product = models.ForeignKey(Product)
    status = models.CharField(max_length=20)  # success, error, duplicate
    hood_item_id = models.CharField(max_length=100)
    error_message = models.TextField(blank=True)
    response_data = models.JSONField()
    created_at = models.DateTimeField(auto_now_add=True)
```

### **üîç –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞:**
- **‚úÖ –£—Å–ø–µ—à–Ω–æ**: –¢–æ–≤–∞—Ä –∑–∞–≥—Ä—É–∂–µ–Ω, –ø–æ–ª—É—á–µ–Ω ID
- **‚ùå –û—à–∏–±–∫–∞**: –ü—Ä–æ–±–ª–µ–º–∞ —Å API –∏–ª–∏ –¥–∞–Ω–Ω—ã–º–∏
- **‚ö†Ô∏è –î—É–±–ª–∏–∫–∞—Ç**: –¢–æ–≤–∞—Ä —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ Hood.de
- **‚è≥ –û–∂–∏–¥–∞–µ—Ç**: –¢–æ–≤–∞—Ä –≥–æ—Ç–æ–≤ –∫ –∑–∞–≥—Ä—É–∑–∫–µ

## üõ°Ô∏è **–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –ù–ê–î–ï–ñ–ù–û–°–¢–¨:**

### **üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- MD5 —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- –¢–æ–∫–µ–Ω—ã –¥–ª—è API –¥–æ—Å—Ç—É–ø–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **üîÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ —Å–±–æ—è—Ö
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

### **üìä –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ (EAN, —Ü–µ–Ω—ã)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã

## üéâ **–ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –°–ò–°–¢–ï–ú–´:**

### **‚úÖ –£–¥–æ–±—Å—Ç–≤–æ:**
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤

### **‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### **‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

### **‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã

## üöÄ **–ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!**

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö 4,754 —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ Hood.de!**

- üåê **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: http://127.0.0.1:8000/products/
- üîß **–ê–¥–º–∏–Ω–∫–∞**: http://127.0.0.1:8000/admin/
- üì° **API**: http://127.0.0.1:8000/api/

**–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Ä–∞–±–æ—Ç—É!** üéØ
